@import 'nib'
@import 'project-ui'
@import 'base'

content-width = 40em
manifest-width = 12em
content-padding = 1em
manifest-bg = #e7eff3

body
  margin 0
  background-color manifest-bg

ul
  list-style-position inside

#flog-file
  background-color #fafafa
  margin-left manifest-width + 2em
  box-shadow 0 0 1em 0

#flog-content
  margin 0
  padding: 1.2em content-padding 3em content-padding
  box-shadow 0.5em 0 1em -0.5em
  width content-width
  background-color white
  position relative

  .paragraph,
  .listingblock

    .title
      color grey

      .name
        color black

  .listingblock .content
    float left
    position relative
    width content-width
    padding-left content-padding
    padding-right content-padding
    margin-left 0 - content-padding
    margin-right 0 - content-padding
    overflow-x hidden
    margin-bottom 25px

    /*&:after
      display block
      margin-left content-width + 0.2em
      margin-right 0 - content-padding
      margin-bottom -0.2em
      box-shadow 0.5em 0.5em 1em -0.5em
      content '_'*/

    &:hover
      width auto
      min-width content-width
      overflow-x visible
      box-shadow 0.5em 0 1em -0.5em
      z-index 20

    &.collapsed,
    &.collapsed:hover
      height 1em
      overflow hidden
      width content-width

    .listing-collapser
      color grey
      font-size 0.8em
      line-height 0.8em
      cursor pointer
      padding 0
      margin 0
      position absolute
      top 0
      left 0

#flog-content:after
  content: ''
  display table
  clear both

#flog-manifest
  position fixed
  left 0
  width manifest-width
  padding 1.2em
  color grey
  resize width

  a,
  a:link,
  a:hover
    color inherit

  h1
    color white
    text-shadow -0.1em 0.1em 0.3em black

  ul.paths
    list-style-type none
    margin 0
    margin-top 1.8em
    padding 0

    li
      clear both
      width manifest-width + 4em
      height 1.8em
      margin-left -2em

      a
        display block
        padding-left 2em
        padding-right 3.5em
        width manifest-width + 0.5
        white-space nowrap
        //margin-left 1em
        //text-indent -1em
        //width manifest-width - 0.5em

      &.path.current a
        //margin-right -3em
        padding-right 3.5em

      &.path:hover a
        margin-right 0
        padding-right 1.5em

      &.path.current,
      &.path.current:hover
        background-color white
        color crimson

      &.path:hover
        background-color manifest-bg

      &.path.current,
      &.path:hover
        a
          box-shadow 0 0.5em 1em -0.5em black

        &.full a
          background-color inherit

      &.heading
        padding-left 2em
        text-transform uppercase
        font-weight bold
        margin-top 1.8em

      &.path.full
        width 50em

        a
          display inline-block
          position relative
          z-index 101
          width auto
          box-shadow 0 0.5em 1em -0.5em black
          background-color manifest-bg

      &.path.full.current a
        background-color white

#flog-names
  height 100em
  width 100em

#flog-names,
#flog-headings
  position fixed
  left 57em
  top 3.6em
  color grey

  a,
  a:link,
  a:hover
    color inherit

#flog-headings
  z-index 10
  height 0

  .toggle
    position fixed
    margin-top -1.8em
    font-style italic

  ul
    height 100em
    width 100em
    position fixed
    background-color #fafafa
    transition opacity 0.5s

#flog-names,
#flog-headings ul
  list-style-type none
  padding 0
  margin 0

#flog-headings li
  &.level1
    padding-left 0

  &.level2
    padding-left 1em

  &.level3
    padding-left 2em

#flog-headings:hover

  ul
    opacity 1 !important
    visibility visible !important

#flog-commit

  ul
    position absolute
    width auto
    z-index 110
    background-color white
    box-shadow 0 0 1em 0 black
    padding-left 0
    padding-top 0
    margin-top 0 - line-height + 1px
    outline 1px solid white
    list-style-type none
    visibility hidden
    opacity 0
    transition visibility 0.5s linear 0s, opacity 0.5s
    transition-delay 0s

    &.active
      visibility visible
      opacity 1
      transition visibility 0.5s linear 0s, opacity 0.5s

    li
      @extends .sans-serif-trait
      width auto
      min-width manifest-width - 1em
      cursor pointer

      &:hover
        color white
        background-color grey

  input
    @extends .sans-serif-trait
    font-size font-size
    width manifest-width - 3em
    color grey
    border none
    outline 1px solid grey
    margin-right 0

  button
    @extends .sans-serif-trait
    font-size font-size
    text-align center
    width 2em
    padding 0
    margin-left 0
    vertical-align baseline
    height line-height
    border solid 1px grey

#flog-listing-toggle
  display none
  position absolute
  z-index 100
  width 1em
  height 1em
  background-color black
  color white

  &:before
    content '⌃'

  &.collapsed:before
    content '⌄'
